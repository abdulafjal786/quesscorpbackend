(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54858,e=>{"use strict";let t="http://13.233.178.226";function r(e){return{id:e.employee_id,name:e.full_name,email:e.email,phone:e.phone||"",department:e.department,position:e.position||"",hireDate:e.hire_date||new Date().toISOString().split("T")[0],salary:e.salary||0,status:e.status||"active",employee_id:e.employee_id}}async function o(){try{let e=await fetch(`${t}/api/employee/employees/`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){let t=await e.text();throw console.error("API Error:",{status:e.status,statusText:e.statusText,body:t}),Error(`Failed to fetch employees: ${e.status} ${e.statusText}`)}return{data:(await e.json()).map(r),message:"Employees loaded successfully"}}catch(e){return console.error("Error fetching employees:",e),{error:e instanceof Error?e.message:"Failed to load employees"}}}async function a(e){try{let r=await fetch(`${t}/api/employee/employees/add/`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!r.ok){let e=await r.json();throw console.error("Create employee error:",e),Error(e.message||e.detail||"Failed to create employee")}let o=await r.json();return{data:n(o),message:"Employee created successfully"}}catch(e){return console.error("Error creating employee:",e),{error:e instanceof Error?e.message:"Failed to create employee",data:void 0}}}async function s(e){try{let r=await fetch(`${t}/api/employee/employees/delete/${e}/`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!r.ok){let e=await r.json();throw Error(e.message||"Failed to delete employee")}return{message:"Employee deleted successfully"}}catch(e){return console.error("Error deleting employee:",e),{error:e instanceof Error?e.message:"Failed to delete employee"}}}function n(e){return{id:e.employee_id||e.id.toString(),name:e.full_name,email:e.email,phone:e.phone||"",department:e.department,position:e.position||"",hireDate:e.hire_date||"",salary:e.salary||0,status:e.status||"active",employee_id:e.employee_id,user_id:e.user}}async function i(e){try{let r=await fetch(`${t}/api/employee/employees/search/?search=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},cache:"no-store"});if(!r.ok){let e=await r.text();throw console.error("Search API Error:",{status:r.status,statusText:r.statusText,body:e}),Error(`Search failed: ${r.status} ${r.statusText}`)}let o=await r.json();return{data:Array.isArray(o)?o.map(n):[],message:"Search completed successfully"}}catch(e){return console.error("Error searching employees:",e),{error:e instanceof Error?e.message:"Failed to search employees",data:[]}}}async function l(e){try{let r=await fetch(`${t}/api/employee/attendance/mark/`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(console.log("Response status:",r.status),!r.ok){let e="Failed to mark attendance";try{let t=await r.json();if(console.log("Error response:",t),"object"==typeof t){if(t.detail)e=t.detail;else if(t.message)e=t.message;else if(t.error)e=t.error;else for(let[r,o]of Object.entries(t))if(Array.isArray(o)&&o.length>0){e=`${r}: ${o[0]}`;break}}}catch(t){e=`HTTP ${r.status}: ${r.statusText}`}throw Error(e)}let o=await r.json();return console.log("Success response:",o),{data:o}}catch(e){return console.error("Error marking attendance:",e),{error:e instanceof Error?e.message:"Failed to mark attendance"}}}async function c(e){let r=new URLSearchParams;e&&r.append("date",e);let o=`${t}/api/employee/attendance/${r.toString()?`?${r.toString()}`:""}`;try{let e=await fetch(o);if(!e.ok){let t=await e.text();throw Error(`API Error ${e.status}: ${t}`)}return{data:await e.json()}}catch(e){return console.error("Attendance Fetch Error:",e),{error:e instanceof Error?e.message:"Unknown error"}}}e.s(["createEmployee",()=>a,"deleteEmployee",()=>s,"getAttendanceRecords",0,c,"getEmployees",()=>o,"markAttendance",()=>l,"searchEmployees",()=>i])}]);