(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54858,e=>{"use strict";let t="http://127.0.0.1:8000";function r(e){return{id:e.employee_id,name:e.full_name,email:e.email,phone:e.phone||"",department:e.department,position:e.position||"",hireDate:e.hire_date||new Date().toISOString().split("T")[0],salary:e.salary||0,status:e.status||"active",employee_id:e.employee_id}}async function a(){try{let e=await fetch(`${t}/employee/employees/`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){let t=await e.text();throw console.error("API Error:",{status:e.status,statusText:e.statusText,body:t}),Error(`Failed to fetch employees: ${e.status} ${e.statusText}`)}return{data:(await e.json()).map(r),message:"Employees loaded successfully"}}catch(e){return console.error("Error fetching employees:",e),{error:e instanceof Error?e.message:"Failed to load employees"}}}async function o(e){try{let r=await fetch(`${t}/employee/employees/add/`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!r.ok){let e=await r.json();throw console.error("Create employee error:",e),Error(e.message||e.detail||"Failed to create employee")}let a=await r.json();return{data:n(a),message:"Employee created successfully"}}catch(e){return console.error("Error creating employee:",e),{error:e instanceof Error?e.message:"Failed to create employee",data:void 0}}}async function s(e){try{let r=await fetch(`${t}/employee/employees/delete/${e}/`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!r.ok){let e=await r.json();throw Error(e.message||"Failed to delete employee")}return{message:"Employee deleted successfully"}}catch(e){return console.error("Error deleting employee:",e),{error:e instanceof Error?e.message:"Failed to delete employee"}}}function n(e){return{id:e.employee_id||e.id.toString(),name:e.full_name,email:e.email,phone:e.phone||"",department:e.department,position:e.position||"",hireDate:e.hire_date||"",salary:e.salary||0,status:e.status||"active",employee_id:e.employee_id,user_id:e.user}}async function l(e){try{let r=await fetch(`${t}/employee/employees/search/?search=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},cache:"no-store"});if(!r.ok){let e=await r.text();throw console.error("Search API Error:",{status:r.status,statusText:r.statusText,body:e}),Error(`Search failed: ${r.status} ${r.statusText}`)}let a=await r.json();return{data:Array.isArray(a)?a.map(n):[],message:"Search completed successfully"}}catch(e){return console.error("Error searching employees:",e),{error:e instanceof Error?e.message:"Failed to search employees",data:[]}}}async function i(e){try{let r=await fetch(`${t}/employee/attendance/mark/`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(console.log("Response status:",r.status),!r.ok){let e="Failed to mark attendance";try{let t=await r.json();if(console.log("Error response:",t),"object"==typeof t){if(t.detail)e=t.detail;else if(t.message)e=t.message;else if(t.error)e=t.error;else for(let[r,a]of Object.entries(t))if(Array.isArray(a)&&a.length>0){e=`${r}: ${a[0]}`;break}}}catch(t){e=`HTTP ${r.status}: ${r.statusText}`}throw Error(e)}let a=await r.json();return console.log("Success response:",a),{data:a}}catch(e){return console.error("Error marking attendance:",e),{error:e instanceof Error?e.message:"Failed to mark attendance"}}}async function c(e){let r=new URLSearchParams;e&&r.append("date",e);let a=`${t}/employee/attendance/${r.toString()?`?${r.toString()}`:""}`;try{let e=await fetch(a);if(!e.ok){let t=await e.text();throw Error(`API Error ${e.status}: ${t}`)}return{data:await e.json()}}catch(e){return console.error("Attendance Fetch Error:",e),{error:e instanceof Error?e.message:"Unknown error"}}}e.s(["createEmployee",()=>o,"deleteEmployee",()=>s,"getAttendanceRecords",0,c,"getEmployees",()=>a,"markAttendance",()=>i,"searchEmployees",()=>l])},73075,e=>{"use strict";var t=e.i(43476),r=e.i(10173),a=e.i(31278),o=e.i(47163);function s({size:e="md",className:r,fullScreen:s=!1}){let n=(0,t.jsx)("div",{className:(0,o.cn)("flex items-center justify-center",r),children:(0,t.jsx)(a.Loader2,{className:(0,o.cn)("animate-spin text-primary-600",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e])})});return s?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-75",children:n}):n}var n=e.i(71645),l=e.i(54858);async function i(){let e=[];try{let t=await (0,l.getEmployees)();t.data&&(e=t.data)}catch(e){console.error("Failed to fetch employees:",e)}return(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Employee Management"}),(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)(s,{fullScreen:!1}),children:(0,t.jsx)(r.default,{employees:e})})]})}e.s(["default",()=>i],73075)}]);